.. _powerflow-command-language:

********************************
Powerflow Command Language (PCL)
********************************

Introduction
============
The commands listed below are those currently available in the Powerflow Command Language (PCL). This language was developed to meet the needs of communication between the GUI and the Powerflow server (``ipfsrv``), but is also available for direct user entry via the Command Dialog in the GUI or loading of a PCL command file in the GUI, and via the ``ipfbat`` command line process, by invoking the same command file. However, since ``ipfsrv`` is expecting these commands to have been generated by another program, it expects them to be syntactically perfect and legally ordered. There is no checking of input, or confirmation procedure, or chance to edit and re-enter commands. A typo can easily crash the program.

The GUI process sends these commands in response to various button pushes, and all checking, etc. is done before a command is ever sent. The generated text strings are placed in a buffer which is sent over an interprocess communications channel open to the server process (``ipfsrv``). The server process on its end interprets these commands and responds by changing its memory resident case data, querying the case data, sending data back to the GUI, etc. CFLOW library routines also send and receive these commands in the same manner.

PCL has some overlap with the PFC command language used in the batch Powerflow (``bpf``) program. For those commands which do the same things (e.g. ``OLD_BASE``, ``CHANGES``, etc.) the syntax is identical. However, many of the batch commands are not available in PCL, and of course PCL contains many commands which are not needed by ``bpf``. The same conventions on case and spacing apply to both languages.

  * Upper, lower, or mixed case are legal: ``OLD_BASE``, ``Old_Base``, ``oldbase``.
  * Spaces between command elements are ignored: ``/oldbase,file=std.bse`` and ``/   OLD_base  ,   File   =   std.bse`` are equivalent.
  * Underscore may be used within command words if desired: ``oldbase``, ``old_base``, ``O_L_D__B_A_S_E``.

.. table:: IPC Commands Quick Descriptions

  +------------+--------------------------------------------------+---------------+
  | Command    | Description                                      | Reference     |
  +------------+--------------------------------------------------+---------------+
  | (END)      | Terminates a data stream following a command.    |               |
  +------------+--------------------------------------------------+---------------+
  | *[EOM]     | Used in the Command Dialog to launch a command   |               |
  |            | stream.                                          |               |
  +------------+--------------------------------------------------+---------------+